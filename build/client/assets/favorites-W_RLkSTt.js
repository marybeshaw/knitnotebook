import{r as l,j as e}from"./jsx-runtime-BJa62n0-.js";import{c}from"./emotion-css.development.esm-CNBYDLmo.js";import{u as f,D as u,H as y,P as g,N as w}from"./Paginator-BlDmNtSt.js";import{T as o}from"./Typography-wcXED6J0.js";import{L as d}from"./Link-BYYak0VS.js";import{T as s}from"./Tooltip-BKiMUKxq.js";import{c as n}from"./createSvgIcon-DhpipJwV.js";import{P as b}from"./Paper-d-ALm8uW.js";import{C,a as k,b as P,c as F}from"./CardMedia-3qf8g595.js";import{u as I}from"./components-BuGUhU6K.js";import"./DefaultPropsProvider-EXnQoTJj.js";import"./index-DOTPFuaT.js";import"./useIsFocusVisible-CPlKmROo.js";import"./chainPropTypes-CPkqCYVL.js";import"./ButtonBase-KljXaplS.js";import"./useTheme-5sFMoId9.js";import"./Button-fn9KT81s.js";import"./GlobalStyles-DQzmn2_Z.js";import"./index-COTo03wr.js";const h=l.createContext({});function _({fav:t,children:r}){return e.jsx(h.Provider,{value:t,children:r})}function m(){const t=l.useContext(h);if(!t)throw new Error("useFavItem must be used inside a DisplayPrefsProvider");return t}function x(){var r,a,i;const t=m();return console.log("in fav item title.",t.type),e.jsxs(o,{variant:"body2",sx:{color:"text.secondary"},children:[t.type==="pattern"&&e.jsxs("span",{children:["by ",((r=t.favorited.designer)==null?void 0:r.name)||"a designer"]}),t.type==="project"&&e.jsxs("span",{children:["by ",((a=t.favorited.user)==null?void 0:a.username)||"a knitter"]}),t.type==="yarn"&&e.jsxs("span",{children:[t.favorited.name," by ",t.favorited.yarn_company_name]}),t.type==="stash"&&e.jsxs("span",{children:["by ",((i=t.favorited.user)==null?void 0:i.username)||"a collector"]})]})}function v(){var r,a;const t=m();return e.jsxs(l.Fragment,{children:[t.type==="yarn"&&t.favorited.permalink&&e.jsx(d,{href:`https://www.ravelry.com/yarns/library/${t.favorited.permalink}`,variant:"contained",target:"_blank",children:"Yarn on Ravelry"}),t.type==="pattern"&&t.favorited.permalink&&e.jsx(d,{href:`https://www.ravelry.com/patterns/library/${t.favorited.permalink}`,variant:"contained",target:"_blank",component:"a",children:"Pattern on Ravelry"}),t.type==="stash"&&t.favorited.permalink&&((r=t.favorited.user)==null?void 0:r.username)&&e.jsx(d,{href:`https://www.ravelry.com/people/${t.favorited.user.username}/stash/${t.favorited.permalink}`,variant:"contained",target:"_blank",component:"a",children:"Stash on Ravelry"}),t.type==="project"&&t.favorited.permalink&&((a=t.favorited.user)==null?void 0:a.username)&&e.jsx(d,{href:`https://www.ravelry.com/projects/${t.favorited.user.username}/${t.favorited.permalink}`,variant:"contained",target:"_blank",component:"a",children:"Project on Ravelry"})]})}const M=n(e.jsx("path",{d:"M20 8v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.86 1.28-3.41 3-3.86V2h3v2h4V2h3v2.14c1.72.45 3 2 3 3.86M6 12v2h10v2h2v-4z"}),"Backpack"),H=n(e.jsx("path",{d:"M22 24H2v-4h20zM13.06 5.19l3.75 3.75L7.75 18H4v-3.75zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41z"}),"BorderColor"),T=n(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16h-9v-6h9z"}),"BrandingWatermark"),z=n(e.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"Forum"),B=n(e.jsx("path",{d:"M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48"}),"Gesture"),R=n(e.jsx("path",{d:"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .65.73.45.75.45C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.41.21.75-.19.75-.45V6c-1.49-1.12-3.63-1.5-5.5-1.5m3.5 14c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"}),"ImportContacts"),S=n([e.jsx("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),e.jsx("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),L=n(e.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),N=n(e.jsx("path",{d:"M6 13c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4m6-10C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4m6 10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4"}),"Workspaces");function j({fav:t}){switch(t.type){case"pattern":return e.jsx(s,{title:"Pattern",children:e.jsx(R,{})});case"project":return e.jsx(s,{title:"Project",children:e.jsx(H,{})});case"yarn":return e.jsx(s,{title:"Yarn",children:e.jsx(B,{})});case"stash":return e.jsx(s,{title:"Stash",children:e.jsx(M,{})});case"forumpost":return e.jsx(s,{title:"Forum",children:e.jsx(z,{})});case"designer":return e.jsx(s,{title:"Designer",children:e.jsx(S,{})});case"yarnshop":return e.jsx(s,{title:"Yarn Shop",children:e.jsx(L,{})});case"yarnbrand":return e.jsx(s,{title:"Yarn Brand",children:e.jsx(T,{})});case"bundle":return e.jsx(s,{title:"Bundle",children:e.jsx(N,{})});default:return t.type}}const V=c`
  display: flex;
  flex-direction: row;
  //   border: 1px solid #eeeeee;
  margin: 0 0 16px 0;
`,D=c`
  margin: 0 10px 0 0;
  padding: 0;
  border: 0;
  line-height: 0;

  width: 165px;
  display: flex;
  align-items: center;
  justify-content: center;
`,$=c`
  flex-grow: 1;
`,W=c`
  height: 100%;
  width: 165px;
  margin: 0;
  object-fit: cover;
`,Y=c`
  display: flex;
  margin-top: 10px;
  max-width: 400px;
  & * {
    margin-right: 10px;
  }
`,E="../../images/yarn-ball.jpg";function G(){var r;const t=m();return e.jsx(b,{elevation:2,children:e.jsxs("div",{className:V,children:[e.jsx("div",{className:D,children:e.jsx("img",{className:W,src:t.favorited.first_photo.small_url||E,alt:""})}),e.jsxs("div",{className:$,children:[e.jsx(o,{gutterBottom:!0,variant:"h5",component:"div",children:t.favorited.name}),e.jsx(x,{}),t.type==="yarn"&&((r=t.favorited.yarn_weight)==null?void 0:r.name)&&e.jsx(o,{variant:"body2",sx:{color:"text.secondary"},children:t.favorited.yarn_weight.name}),t.comment&&e.jsxs(o,{variant:"body2",sx:{color:"text.secondary"},children:['"',t.comment,'"']}),e.jsxs("div",{className:Y,children:[e.jsx(j,{fav:t}),e.jsx(v,{})]})]})]})},`stash-${t.id}`)}const A=c`
  margin: 3px 8px 8px;
  flex: 1 0 21%;
  max-width: 350px;
  min-width: 250px;
`;function U(){var r;const t=m();return console.log("fav item",t),e.jsx("div",{className:A,children:e.jsxs(C,{sx:{maxWidth:345},children:[e.jsx(k,{sx:{height:140},image:t.favorited.first_photo.small_url,title:""}),e.jsxs(P,{children:[e.jsx(o,{gutterBottom:!0,variant:"h5",component:"div",children:t.favorited.name}),e.jsx(x,{}),t.type==="yarn"&&((r=t.favorited.yarn_weight)==null?void 0:r.name)&&e.jsx(o,{variant:"body2",sx:{color:"text.secondary"},children:t.favorited.yarn_weight.name}),t.comment&&e.jsxs(o,{variant:"body2",sx:{color:"text.secondary"},children:['"',t.comment,'"']})]}),e.jsxs(F,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(j,{fav:t}),e.jsx(v,{})]})]})})}const q=c`
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  margin: 0 -8px;
`,J=c`
  margin-right: 4px; // to match the paginator form's right margin
`;function K({favoritesResults:t}){const{displayPrefs:r}=f(),a=r.resultsStyle==="list"?G:U;return e.jsx(l.Fragment,{children:e.jsx("div",{className:r.resultsStyle==="list"?J:q,children:t.map(i=>e.jsx(_,{fav:i,children:e.jsx(a,{fav:i})},i.id))})})}function ve(){var p;const{favorites:t,data:r,pageProps:a}=I(),i=((p=r==null?void 0:r.paginator)==null?void 0:p.last_page)||1;return e.jsxs(u,{children:[e.jsx(y,{dataType:"favorites",...a,children:"My Favorites"}),t.length?e.jsxs(l.Fragment,{children:[e.jsx(K,{favoritesResults:t}),e.jsx(g,{pageSize:a.pageSize,currentPage:a.currentPage,numPages:i})]}):e.jsx(w,{searchText:a.searchText,dataType:"favorites"}),e.jsx(o,{variant:"body2",sx:{marginTop:"10px",marginLeft:"10px"},children:"To add something to your Ravelry favorites, please visit Ravelry."})]})}export{ve as default};
