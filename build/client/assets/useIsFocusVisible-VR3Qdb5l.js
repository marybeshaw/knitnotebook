import{P as h}from"./DefaultPropsProvider-DAnhN6oH.js";import{r as i}from"./jsx-runtime-BJa62n0-.js";function m(e,t){return function(...r){return e(...r)||t(...r)}}function y(e){const{prototype:t={}}=e;return!!t.isReactComponent}function E(e,t,n,r,u){const c=e[t],p=u||t;if(c==null||typeof window>"u")return null;let a;return typeof c=="function"&&!y(c)&&(a="Did you accidentally provide a plain function component instead?"),a!==void 0?new Error(`Invalid ${r} \`${p}\` supplied to \`${n}\`. Expected an element type that can hold a ref. ${a} For more information see https://mui.com/r/caveat-with-refs-guide`):null}const A=m(h.elementType,E);function b(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function D(...e){return i.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{b(n,t)})},e)}const d={};function T(e,t){const n=i.useRef(d);return n.current===d&&(n.current=e(t)),n}const w=[];function I(e){i.useEffect(e,w)}class s{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function $(){const e=T(s.create).current;return I(e.disposeEffect),e}let o=!0,f=!1;const R=new s,v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function g(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&v[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function F(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function V(){this.visibilityState==="hidden"&&f&&(o=!0)}function L(e){e.addEventListener("keydown",F,!0),e.addEventListener("mousedown",l,!0),e.addEventListener("pointerdown",l,!0),e.addEventListener("touchstart",l,!0),e.addEventListener("visibilitychange",V,!0)}function P(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return o||g(t)}function k(){const e=i.useCallback(u=>{u!=null&&L(u.ownerDocument)},[]),t=i.useRef(!1);function n(){return t.current?(f=!0,R.start(100,()=>{f=!1}),t.current=!1,!0):!1}function r(u){return P(u)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}export{s as T,D as a,$ as b,m as c,A as e,b as s,k as u};
